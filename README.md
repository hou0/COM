# 化妆品检验系统

## 项目简介

化妆品检验系统是一个专门为化妆品生产企业设计的质量管理系统，旨在帮助企业规范检验流程、提高检验效率、确保产品质量。系统提供了产品管理、检验项目管理、检验报告管理、质量分析等核心功能，支持企业全面的质量管理需求。

## 技术栈

### 前端
- Vue 3 + Vite
- Vue Router
- PrimeVue (UI 组件库)
- Chart.js (图表库)

## 项目结构

```
├── src/                # 前端代码
│   ├── components/     # 组件
│   ├── composables/    # 组合式函数
│   ├── router/         # 路由
│   ├── utils/          # 工具函数
│   ├── views/          # 页面
│   ├── App.vue         # 前端根组件
│   └── main.js         # 前端入口文件
├── index.html          # HTML 模板
├── package.json        # 前端依赖配置
├── vite.config.js      # Vite 配置
└── README.md           # 项目说明文件
```

## 核心功能

### 1. 产品管理
- 产品信息的添加、编辑、删除和查询
- 支持按产品类型、状态等条件筛选
- 支持批量导入产品数据
- 为每个产品关联检验项目和标准范围

### 2. 检验项目管理
- 检验项目的添加、编辑、删除和查询
- 支持按项目类型、适用产品类型等条件筛选
- 为每个检验项目设置标准范围、单位、检验方法等信息

### 3. 检验管理
- 检验报告的创建、编辑、保存和打印
- 支持自动填充产品信息和检验项目
- 支持自定义检验项目和标准
- 支持检验结论的录入和不合格品处理

### 4. 质量分析
- 基于检验数据的质量分析图表
- 支持按时间、产品类型等维度分析
- 提供不合格品统计和趋势分析

### 5. 报告管理
- 检验报告的查询和管理
- 支持按检验单号、产品编码等条件筛选
- 支持报告的导出和打印

### 6. 不合格品管理
- 不合格品信息的记录和管理
- 支持不合格原因分析和处理跟踪
- 提供不合格品统计和趋势分析

## 快速开始

### 前置条件

- Node.js 14.0 或更高版本

### 安装步骤

1. **克隆项目**

   ```bash
   git clone <项目地址>
   cd COM
   ```

2. **安装前端依赖**

   ```bash
   npm install
   ```

3. **启动前端开发服务器**

   ```bash
   npm run dev
   # 前端运行在 http://localhost:5173
   ```

## 生产环境部署

### 构建前端项目

```bash
npm run build
# 构建产物将生成在 dist 目录
```

### 部署前端

1. 将 `dist` 目录中的文件部署到静态文件服务器
2. 由于系统使用 localStorage 进行本地存储，不需要配置后端服务

## 使用说明

### 1. 初始化数据

#### 1.1 添加产品

1. **进入产品管理页面**：在左侧导航栏中点击「产品管理」菜单
2. **点击「添加产品」按钮**：页面右上角会显示「添加产品」按钮
3. **填写产品信息**：
   - 产品名称：输入产品的中文名称
   - 产品编码：输入产品的唯一编码（建议使用企业内部标准编码）
   - 产品类型：选择产品类型（原料、包材、半成品、成品）
   - 规格：输入产品的规格型号
   - 单位：选择产品的计量单位
   - 标准编号：输入产品执行的标准编号
4. **点击「保存」按钮**：保存产品信息
5. **批量导入（可选）**：点击「批量导入」按钮，上传Excel文件批量导入产品数据

#### 1.2 添加检验项目

1. **进入检验项目管理页面**：在左侧导航栏中点击「检验项目管理」菜单
2. **点击「添加检验项目」按钮**：页面右上角会显示「添加检验项目」按钮
3. **填写检验项目信息**：
   - 项目名称：输入检验项目的名称
   - 项目编码：输入检验项目的唯一编码
   - 适用产品类型：选择该检验项目适用的产品类型
   - 单位：选择检验结果的计量单位
   - 标准范围：输入检验项目的标准值范围
   - 检验方法：输入检验项目的检验方法
4. **点击「保存」按钮**：保存检验项目信息

#### 1.3 配置检验报告模板

1. **进入检验报告模板**：在左侧导航栏中点击「检验报告模板」菜单
2. **选择模板类型**：在左侧模板选择区域选择需要配置的模板类型（原料、包材、半成品、成品）
3. **配置基本信息字段**：
   - 在左侧字段配置区域，勾选需要在模板中显示的字段
   - 拖动字段可以调整字段的显示顺序
4. **点击「保存模板」按钮**：保存模板配置

### 2. 检验流程

#### 2.1 创建检验报告

1. **进入检验管理页面**：在左侧导航栏中点击「检验管理」菜单
2. **点击「新建检验报告」按钮**：页面右上角会显示「新建检验报告」按钮
3. **选择检验类型**：在弹出的对话框中选择检验类型（原料、包材、半成品、成品）
4. **填写基本信息**：
   - 产品编码：输入产品编码，系统会自动填充产品信息
   - 检验单号：系统会自动生成检验单号，也可以手动修改
   - 检验日期：选择检验日期
   - 检验数量：输入检验数量
   - 样品数量：输入样品数量
   - 批号：输入产品批号
5. **录入检验结果**：
   - 系统会根据产品类型自动加载关联的检验项目
   - 在「检验结果」列输入实际检验值
   - 系统会自动根据标准范围判定结果是否合格
6. **填写检验结论**：
   - 在「检验结论」文本框中输入检验结论
   - 可以选择「合格」或「不合格」的结论
7. **点击「保存报告」按钮**：保存检验报告
8. **点击「打印报告」按钮**：打印检验报告

#### 2.2 编辑检验报告

1. **进入检验管理页面**：在左侧导航栏中点击「检验管理」菜单
2. **找到需要编辑的检验报告**：在检验报告列表中找到需要编辑的报告
3. **点击「编辑」按钮**：报告右侧会显示「编辑」按钮
4. **修改报告内容**：修改需要更新的报告内容
5. **点击「保存报告」按钮**：保存修改后的报告

#### 2.3 查看检验报告

1. **进入报告管理页面**：在左侧导航栏中点击「报告管理」菜单
2. **找到需要查看的检验报告**：在报告列表中找到需要查看的报告
3. **点击「查看」按钮**：报告右侧会显示「查看」按钮
4. **选择模板查看**：在弹出的对话框中选择需要使用的模板
5. **点击「使用模板查看」按钮**：使用选定的模板查看报告
6. **点击「打印报告」按钮**：打印报告
7. **点击「导出Word」按钮**：导出Word格式的报告
8. **点击「导出Excel」按钮**：导出Excel格式的报告

### 3. 质量分析

#### 3.1 查看质量分析图表

1. **进入质量分析页面**：在左侧导航栏中点击「质量分析」菜单
2. **选择分析维度**：
   - 时间维度：选择需要分析的时间范围
   - 产品类型：选择需要分析的产品类型
   - 分析指标：选择需要分析的指标（合格率、不合格项目分布等）
3. **查看图表**：系统会根据选择的维度生成相应的图表
4. **点击「导出图表」按钮**：导出图表为图片

#### 3.2 不合格品分析

1. **进入质量分析页面**：在左侧导航栏中点击「质量分析」菜单
2. **点击「不合格品分析」标签**：切换到不合格品分析视图
3. **查看不合格品统计**：系统会显示不合格品的统计数据和趋势图表
4. **点击「导出报表」按钮**：导出不合格品分析报表

### 4. 不合格品管理

#### 4.1 记录不合格品

1. **进入不合格品管理页面**：在左侧导航栏中点击「不合格品管理」菜单
2. **点击「添加不合格品」按钮**：页面右上角会显示「添加不合格品」按钮
3. **填写不合格品信息**：
   - 产品编码：输入产品编码，系统会自动填充产品信息
   - 批号：输入产品批号
   - 不合格数量：输入不合格品的数量
   - 不合格原因：选择或输入不合格原因
   - 发现环节：选择不合格品的发现环节
   - 处理方式：选择不合格品的处理方式
4. **点击「保存」按钮**：保存不合格品信息

#### 4.2 跟踪不合格品处理

1. **进入不合格品管理页面**：在左侧导航栏中点击「不合格品管理」菜单
2. **找到需要跟踪的不合格品**：在不合格品列表中找到需要跟踪的记录
3. **点击「查看」按钮**：查看不合格品的详细信息和处理记录
4. **点击「更新处理状态」按钮**：更新不合格品的处理状态
5. **填写处理结果**：输入不合格品的处理结果
6. **点击「保存」按钮**：保存处理结果

### 5. 供应商管理

#### 5.1 添加供应商

1. **进入供应商管理页面**：在左侧导航栏中点击「供应商管理」菜单
2. **点击「添加供应商」按钮**：页面右上角会显示「添加供应商」按钮
3. **填写供应商信息**：
   - 供应商名称：输入供应商的全称
   - 联系人：输入供应商的联系人姓名
   - 联系电话：输入供应商的联系电话
   - 地址：输入供应商的详细地址
   - 备注：输入其他需要备注的信息
4. **点击「保存」按钮**：保存供应商信息

#### 5.2 评估供应商

1. **进入供应商管理页面**：在左侧导航栏中点击「供应商管理」菜单
2. **找到需要评估的供应商**：在供应商列表中找到需要评估的供应商
3. **点击「评估」按钮**：供应商右侧会显示「评估」按钮
4. **填写评估信息**：
   - 产品质量：评分（1-5分）
   - 交货及时性：评分（1-5分）
   - 服务态度：评分（1-5分）
   - 评估意见：输入评估意见
5. **点击「保存」按钮**：保存评估信息

### 6. 检验报告模板管理

#### 6.1 进入检验报告模板

1. **进入检验报告模板页面**：在左侧导航栏中点击「检验报告模板」菜单
2. **查看模板类型**：左侧会显示四种模板类型（原料、包材、半成品、成品）

#### 6.2 配置模板基本信息字段

1. **选择模板类型**：点击左侧的模板类型卡片（如「原料检验报告」）
2. **配置基本信息字段**：
   - 在左侧字段配置区域，勾选需要在模板中显示的字段
   - 可选字段包括：检验日期、生产日期、产品名称、产品编码、检验数量、样品数量、批号、原厂批号、生产商、供应商、有效期、标准编号
3. **调整字段顺序**：
   - 拖动字段可以调整字段的显示顺序
   - 字段顺序会影响报告中的显示顺序
4. **点击「保存模板」按钮**：保存模板配置

#### 6.3 添加自定义字段

1. **点击「添加自定义字段」按钮**：页面右上角会显示「添加自定义字段」按钮
2. **填写字段信息**：
   - 字段名称：输入自定义字段的名称
   - 字段类型：选择字段类型（文本、数字、日期）
3. **点击「添加」按钮**：添加自定义字段
4. **配置自定义字段**：
   - 自定义字段会显示在字段列表中
   - 可以勾选是否在模板中显示
   - 可以拖动调整显示顺序

#### 6.4 预览模板效果

1. **配置模板后**：右侧会实时显示模板的预览效果
2. **查看基本信息部分**：显示配置的基本信息字段
3. **查看检验项目部分**：显示模板默认的检验项目
4. **查看检验结论部分**：显示检验结论输入区域
5. **查看审批确认部分**：显示签名区域

#### 6.5 打印模板

1. **配置完成后**：点击页面右上角的「打印报告」按钮
2. **预览打印效果**：系统会显示打印预览
3. **执行打印**：点击浏览器的打印按钮执行打印

#### 6.6 模板数据同步

1. **保存模板配置后**：配置会自动同步到localStorage
2. **在报告管理中使用**：报告管理页面会使用相同的模板配置
3. **确保数据一致性**：两个系统会显示完全一致的字段

## 系统特点

- **纯前端架构**：采用纯前端架构，使用 localStorage 进行本地存储，无需后端服务
- **响应式设计**：支持在不同设备上正常显示和操作
- **数据本地化**：前端使用 localStorage 进行本地存储，提高系统响应速度和可靠性
- **自动填充**：支持根据产品编码自动填充产品信息和检验项目
- **自定义字段**：支持自定义检验报告字段，满足不同企业的个性化需求
- **多维度分析**：提供丰富的质量分析图表，帮助企业发现质量问题和改进方向
- **模板系统**：支持自定义检验报告模板，灵活配置字段和布局

## 注意事项

1. **数据初始化**：首次使用时，需要先添加产品和检验项目数据
2. **浏览器兼容性**：建议使用 Chrome、Firefox、Edge 等现代浏览器
3. **性能优化**：对于大量数据的导入和处理，建议分批操作
4. **数据存储**：系统使用 localStorage 进行本地存储，数据仅保存在当前浏览器中
5. **数据备份**：建议定期导出数据进行备份，以防止浏览器数据丢失

## 故障排除

### 常见问题

1. **前端启动失败**
   - 检查 Node.js 版本是否符合要求
   - 检查依赖是否安装成功
   - 检查端口是否被占用

2. **数据无法保存**
   - 检查表单数据是否完整
   - 检查浏览器 localStorage 是否可用
   - 检查浏览器存储空间是否充足

3. **页面显示异常**
   - 尝试刷新页面
   - 清除浏览器缓存
   - 检查浏览器是否支持 Vue 3

## 贡献

欢迎对本项目进行贡献！如果您有任何问题或建议，请通过以下方式联系我们：

- 提交 Issue
- 提交 Pull Request

## 许可证

本项目采用 MIT 许可证。

## 联系方式

- 项目维护者：[您的姓名]
- 邮箱：[您的邮箱]
- 公司：[您的公司名称]

---

感谢您使用化妆品检验系统！我们将不断努力改进系统，为您提供更好的质量管理体验。